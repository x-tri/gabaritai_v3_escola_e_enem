#!/bin/bash
# =============================================================================
# ğŸš€ DEPLOY PARA PRODUÃ‡ÃƒO - Alternativas ao Fly.io
# =============================================================================
# Scripts para deploy em diferentes provedores de nuvem
# =============================================================================

echo ""
echo "â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—"
echo "â•‘           ğŸš€ ESCOLHA SEU PROVEDOR DE PRODUÃ‡ÃƒO              â•‘"
echo "â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo ""

echo "ğŸ”¥ ALTERNATIVAS RECOMENDADAS:"
echo ""
echo "1. ğŸŸ¢ VERCEL (Frontend + API) - Mais fÃ¡cil"
echo "2. ğŸŸ  RAILWAY (Full-stack) - Equilibrado"
echo "3. ğŸ”µ RENDER (Full-stack) - Bom custo-benefÃ­cio"
echo "4. ğŸŸ£ AWS/GCP - Enterprise"
echo ""
echo "ğŸ’° CUSTOS APROXIMADOS (por mÃªs):"
echo "   Vercel: $0-20 (hobby)"
echo "   Railway: $5-15 (hobby)"
echo "   Render: $7-25 (starter)"
echo "   AWS: $10-50+ (EC2 + RDS)"
echo ""

read -p "Qual provedor vocÃª prefere? (1-4): " choice

case $choice in
    1)
        echo ""
        echo "ğŸŸ¢ VERCEL ESCOLHIDO"
        echo "==================="
        echo ""
        echo "ğŸ“‹ PASSOS PARA VERCEL:"
        echo ""
        echo "1. Instalar Vercel CLI:"
        echo "   npm i -g vercel"
        echo ""
        echo "2. Login:"
        echo "   vercel login"
        echo ""
        echo "3. Deploy do frontend:"
        echo "   vercel --prod"
        echo ""
        echo "4. Deploy da API (Node.js):"
        echo "   vercel --prod --yes"
        echo ""
        echo "5. Configurar variÃ¡veis de ambiente no dashboard"
        echo ""
        ;;
    2)
        echo ""
        echo "ğŸŸ  RAILWAY ESCOLHIDO"
        echo "===================="
        echo ""
        echo "ğŸ“‹ PASSOS PARA RAILWAY:"
        echo ""
        echo "1. Instalar Railway CLI:"
        echo "   curl -fsSL https://railway.app/install.sh | sh"
        echo ""
        echo "2. Login:"
        echo "   railway login"
        echo ""
        echo "3. Criar projeto:"
        echo "   railway init"
        echo ""
        echo "4. Adicionar serviÃ§os:"
        echo "   railway add --name api"
        echo "   railway add --name omr-service"
        echo "   railway add --name tri-service"
        echo ""
        echo "5. Deploy:"
        echo "   railway up"
        echo ""
        ;;
    3)
        echo ""
        echo "ğŸ”µ RENDER ESCOLHIDO"
        echo "==================="
        echo ""
        echo "ğŸ“‹ PASSOS PARA RENDER:"
        echo ""
        echo "1. Conectar GitHub no Render.com"
        echo ""
        echo "2. Criar serviÃ§os:"
        echo "   â€¢ Web Service (Node.js API)"
        echo "   â€¢ Web Service (OMR Python)"
        echo "   â€¢ Web Service (TRI Python)"
        echo ""
        echo "3. Configurar build commands:"
        echo "   API: npm install && npm run build"
        echo "   Python: pip install -r requirements.txt"
        echo ""
        echo "4. Configurar start commands:"
        echo "   API: npm start"
        echo "   Python: python app.py"
        echo ""
        ;;
    4)
        echo ""
        echo "ğŸŸ£ AWS/GCP ESCOLHIDO"
        echo "===================="
        echo ""
        echo "ğŸ“‹ PASSOS PARA AWS:"
        echo ""
        echo "1. ECS Fargate (recomendado):"
        echo "   â€¢ API: ECS Service + ALB"
        echo "   â€¢ DB: RDS PostgreSQL"
        echo "   â€¢ Cache: ElastiCache Redis"
        echo ""
        echo "2. Ou EC2 + Docker:"
        echo "   â€¢ InstÃ¢ncias EC2"
        echo "   â€¢ Load Balancer"
        echo "   â€¢ RDS Database"
        echo ""
        echo "ğŸ’° Mais caro, mas escalÃ¡vel"
        echo ""
        ;;
    *)
        echo "âŒ OpÃ§Ã£o invÃ¡lida"
        exit 1
        ;;
esac

echo ""
echo "ğŸ”§ CONFIGURAÃ‡Ã•ES COMUNS PARA TODOS:"
echo ""
echo "1. VariÃ¡veis de ambiente:"
echo "   SUPABASE_URL=..."
echo "   SUPABASE_SERVICE_KEY=..."
echo "   OPENAI_API_KEY=..."
echo ""
echo "2. URLs dos serviÃ§os:"
echo "   PYTHON_OMR_URL=https://your-omr-service.com"
echo "   PYTHON_TRI_URL=https://your-tri-service.com"
echo ""
echo "3. Banco de dados:"
echo "   â€¢ Manter Supabase (jÃ¡ estÃ¡ em produÃ§Ã£o)"
echo "   â€¢ Ou migrar para PostgreSQL do provedor"
echo ""

echo "ğŸ“ SUPORTE:"
echo "   Vercel: vercel.com/docs"
echo "   Railway: railway.app/docs"
echo "   Render: render.com/docs"
echo "   AWS: aws.amazon.com/getting-started"